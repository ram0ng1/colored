module.exports=function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["tags/components/TagHero"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionHero"]},function(t,e){t.exports=flarum.core.compat["forum/components/DiscussionListItem"]},,function(t,e,r){"use strict";function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(null,arguments)}r.r(e);var n=r(1),a=r(0),c=r.n(a),l=r(2),u=r.n(l),i=r(3),s=r.n(i),d=r(4),y=r.n(d),m=["rgba(0, 0, 0, 0)","transparent","rgb(237, 237, 237)","rgb(20, 25, 31)"],p=["--hero-color","--primary-color","--secondary-color","--link-color","--hero-contrast","--overlay-bg","--button-text-color","--color","--contrast-color","--button-primary-bg","--button-primary-bg-hover","--button-primary-bg-active","--button-primary-bg-disabled","--header-color","--control-bg"];function b(t,e){void 0===e&&(e=15);var r=t.match(/\d+/g);return r?"rgb("+Math.max(0,Math.floor(r[0]*(1-e/100)))+", "+Math.max(0,Math.floor(r[1]*(1-e/100)))+", "+Math.max(0,Math.floor(r[2]*(1-e/100)))+")":t}function f(t,e){void 0===e&&(e=.9);var r=t.match(/\d+/g);return r?"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+e+")":t}function g(t){var e,r,o,n=document.documentElement;if(!t)return p.forEach((function(t){return n.style.removeProperty(t)})),null==(r=document.getElementById("colored-dynamic-styles"))||r.remove(),document.body.removeAttribute("data-colored-header"),void(null==(o=document.querySelector(".Scrubber-bar"))||o.classList.remove("Scrubber-bar--ready"));var a=!t||"1"!==c.a.forum.attribute("themeDarkMode")&&!0!==c.a.forum.attribute("themeDarkMode")&&"1"!==c.a.forum.attribute("theme_dark_mode")&&!0!==c.a.forum.attribute("theme_dark_mode")?"#ffffff":"#000000",l=b(t,15),u=b(t,-10),i=f(t,.9),s=f(t,.1);n.style.setProperty("--color",t),n.style.setProperty("--contrast-color",a),n.style.setProperty("--hero-color",t),n.style.setProperty("--primary-color",t),n.style.setProperty("--secondary-color",t),n.style.setProperty("--link-color",t),n.style.setProperty("--hero-contrast",a),n.style.setProperty("--button-text-color",a),n.style.setProperty("--overlay-bg",i),n.style.setProperty("--control-bg",s),n.style.setProperty("--header-color",t),n.style.setProperty("--button-primary-bg",t),n.style.setProperty("--button-primary-bg-hover",u),n.style.setProperty("--button-primary-bg-active",l),n.style.setProperty("--button-primary-bg-disabled",t),null==(e=document.getElementById("colored-dynamic-styles"))||e.remove();var d=document.createElement("style");d.id="colored-dynamic-styles",d.textContent="\n        .Button--primary {\n            background-color: "+t+" !important;\n            color: "+a+" !important;\n        }\n        .Button--primary:hover {\n            background-color: "+u+" !important;\n            color: "+a+" !important;\n        }\n        .Button--primary:active,\n        .Button--primary.active {\n            background-color: "+l+" !important;\n            color: "+a+" !important;\n        }\n        .Button--primary:disabled {\n            background-color: "+t+" !important;\n            opacity: 0.6;\n        }\n    ",document.head.appendChild(d),c.a.forum.attribute("colored.elements.header")&&document.body.setAttribute("data-colored-header","true"),setTimeout((function(){var t;null==(t=document.querySelector(".Scrubber-bar"))||t.classList.add("Scrubber-bar--ready")}),500)}function v(){var t=document.querySelector(".Hero"),e=c.a.current.get("routeName");if(e&&(e.startsWith("discussion")||e.startsWith("tag")))if(t){var r=window.getComputedStyle(t).backgroundColor;if(m.includes(r))g(null);else{var o=c.a.current.get("tag");if(!o||o.color()){var n=c.a.current.get("discussion");if(n){var a=n.tags();if(!a||!a[0]||!a[0].color())return void g(null)}g(r)}else g(null)}}else g(null);else g(null)}c.a.initializers.add("ramon/colored",(function(){Object(n.extend)(c.a,"route",v),null!=u.a&&u.a.prototype&&Object(n.extend)(u.a.prototype,"oncreate",v),null!=s.a&&s.a.prototype&&Object(n.extend)(s.a.prototype,"oncreate",v),Object(n.extend)(y.a.prototype,"view",(function(t){var e=this.attrs.discussion.tags();e&&e[0]&&e[0].color()&&(t.attrs.style=o({"--tag-color":e[0].color()},t.attrs.style||{}))}));var t=new MutationObserver((function(){document.querySelector(".Hero")&&v()})),e=document.getElementById("app");e&&t.observe(e,{childList:!0,subtree:!1}),$(window).on("load",v)}))}]);
//# sourceMappingURL=forum.js.map