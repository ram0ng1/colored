module.exports=function(o){var e={};function r(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=o,r.c=e,r.d=function(o,e,t){r.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:t})},r.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,e){if(1&e&&(o=r(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)r.d(t,n,function(e){return o[e]}.bind(null,n));return t},r.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(e,"a",e),e},r.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},r.p="",r(r.s=7)}([function(o,e){o.exports=flarum.core.compat.app},,function(o,e){o.exports=flarum.core.compat.extend},function(o,e){o.exports=flarum.core.compat["components/DiscussionHero"]},function(o,e){o.exports=flarum.core.compat["tags/components/TagHero"]},function(o,e){o.exports=flarum.core.compat["components/WelcomeHero"]},,function(o,e,r){"use strict";r.r(e);var t=r(2),n=r(0),c=r.n(n),a=r(5),u=r.n(a),i=r(4),s=r.n(i),l=r(3),d=r.n(l);function p(o){o&&o.prototype&&Object(t.extend)(o.prototype,"view",(function(){$("body").removeClass((function(o,e){return(e.match(/(^|\s)col\S+/g)||[]).join(" ")}))}))}function m(o,e){var r=!1;"#"===o[0]&&(o=o.slice(1),r=!0);var t=parseInt(o,16),n=(t>>16)+e,c=(t>>8&255)+e,a=(255&t)+e;return n=Math.min(255,Math.max(0,n)),c=Math.min(255,Math.max(0,c)),(r?"#":"")+((a=Math.min(255,Math.max(0,a)))|c<<8|n<<16).toString(16).padStart(6,"0")}function f(o){void 0===o&&(o=null);var e={"App-header":{"border-top":""},Hero:{"background-color":""},"App-navigation":{"border-bottom":""},"Button--primary":{"background-color":o||""},UserCard:{"border-top":""},"Post-header":{"border-left":""},Alert:{"border-left":""},"Dropdown-menu":{"background-color":""},Composer:{"--primary-color":"","box-shadow":""}};Object.entries(e).forEach((function(o){var e=o[0],r=o[1];Object.entries(r).forEach((function(o){var r=o[0],t=o[1];$("."+e).css(r,t)}))}))}function y(){var o=c.a.forum.attribute("theme_primary_color")||"#536f90";document.documentElement.style.setProperty("--primary-color",o),document.documentElement.style.setProperty("--link-color",o),f(o)}function b(){var o=c.a.forum&&"function"==typeof c.a.forum.attribute?["header","hero","navigation","button","usercard","post","alerts","dropdown","composer"].filter((function(o){var e=c.a.forum.attribute("colored.elements."+o);return"1"===e||!0===e||1===e})):[];if(0!==o.length){var e=c.a.current.get("routeName");if(e&&e.startsWith("discussion")){var r={fast:.1,normal:.5,slow:1}[c.a.forum.attribute("colored.transitionType")||"normal"];$(".Button--primary, .Button--tagColored").css("transition","background-color "+r+"s ease"),$(".Hero, .App-navigation, .UserCard, .Post-header, .Alert, .Dropdown-menu").css("transition","all "+r+"s ease");var t=c.a.forum.attribute("theme_primary_color")||c.a.forum.attribute("themePrimaryColor")||"#d42a5b",n=document.querySelector(".Hero"),a=n?window.getComputedStyle(n).backgroundColor:window.getComputedStyle(document.documentElement).getPropertyValue("--link-color");if("rgb(237, 237, 237)"===a||"#e8ecf3"===a||"rgb(232, 236, 243)"===a)return document.documentElement.style.setProperty("--primary-color",t),document.documentElement.style.setProperty("--link-color",t),void f(t);"rgb(237, 237, 237)"===a&&(a=window.getComputedStyle(document.documentElement).getPropertyValue("--link-color")),f(),o.includes("header")&&$(".App-header").css("border-top","3px solid "+a),o.includes("hero")&&$(".Hero").css("background-color",a),o.includes("navigation")&&$(".FormControl").css({"background-color":a}),o.includes("button")&&$(".Button--primary, .Button--link").css({"background-color":a,"--primary-color":a}).hover((function(){$(this).css({"background-color":m(a,20),"--primary-color":m(a,20)})}),(function(){$(this).css({"background-color":a,"--primary-color":a})})),o.includes("usercard")&&$(".UserCard").css("border-top","3px solid "+a),o.includes("post")&&$(".Post-header").css("border-left","3px solid "+a),o.includes("alerts")&&$(".Alert").css("border-left","3px solid "+a),o.includes("dropdown")&&$(".Dropdown-menu").css("background-color",""+a),o.includes("composer")&&$(".Composer").css({"--primary-color":a}).hover((function(){$(this).css({"--primary-color":m(a,20)})}),(function(){$(this).css({"--primary-color":a,"box-shadow":"0 0 0 2px "+a+", 0 2px 6px "+a})})),o.includes("button")?(document.documentElement.style.setProperty("--primary-color",a),document.documentElement.style.setProperty("--link-color",a)):(document.documentElement.style.setProperty("--primary-color",""),document.documentElement.style.setProperty("--link-color",""))}else y()}}c.a.initializers.add("ramon/colored",(function(){p(u.a),p(d.a),s.a&&s.a.prototype&&Object(t.extend)(s.a.prototype,"view",b),d.a&&d.a.prototype&&Object(t.extend)(d.a.prototype,"view",b),Object(t.extend)(c.a,"route",(function(){var o=c.a.current.get("routeName");o&&o.startsWith("discussion")?b():y()})),$(document).on("change",".Hero, .TagHero, .App-header, .new .NotificationsDropdown-unread",b),$("body").hide(),$(window).on("load",(function(){b(),$("body").show()}))}))}]);
//# sourceMappingURL=forum.js.map